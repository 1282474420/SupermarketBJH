{"version":3,"sources":["webpack:///E:/HTML文件/HBX文件/SupermarketBJH/main.js","webpack:///E:/HTML文件/HBX文件/SupermarketBJH/pages/shopcart/cart/cart.vue?eed7","webpack:///E:/HTML文件/HBX文件/SupermarketBJH/pages/shopcart/cart/cart.vue?f109","webpack:///E:/HTML文件/HBX文件/SupermarketBJH/pages/shopcart/cart/cart.vue?c5ae","webpack:///E:/HTML文件/HBX文件/SupermarketBJH/pages/shopcart/cart/cart.vue?a83e","webpack:///E:/HTML文件/HBX文件/SupermarketBJH/pages/shopcart/cart/cart.vue","webpack:///E:/HTML文件/HBX文件/SupermarketBJH/pages/shopcart/cart/cart.vue?55e0"],"names":["__webpack_require__","_interopRequireDefault","createPage","Page","r","__webpack_exports__","_cart_vue_vue_type_template_id_581f8a67___WEBPACK_IMPORTED_MODULE_0__","_cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","__WEBPACK_IMPORT_KEY__","key","d","_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__","component","Object","options","__file","_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_template_id_581f8a67___WEBPACK_IMPORTED_MODULE_0__","render","staticRenderFns","_h","this","$createElement","_self","_c","_withStripped","_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default","n","data","sumPrice","headerPosition","headerTop","statusTop","showHeader","selectedList","isAllselected","goodsList","theIndex","oldIndex","isStop","num","onPageScroll","e","scrollTop","statusHeight","onPullDownRefresh","setTimeout","uni","stopPullDownRefresh","onShow","_this","getStorage","success","res","console","log","JSON","stringify","length","onLoad","_this2","methods","joinGoods","goods","len","isFind","i","id","number","unshift","touchStart","index","event","touches","initXY","pageX","pageY","touchMove","_this3","moveX","moveY","Math","abs","touchEnd","$event","toGoods","showToast","title","goodsName","icon","navigateTo","url","toConfirmation","tmpList","selected","push","setStorage","deleteGoods","splice","setStorageSync","indexOf","sum","deleteList","allSelect","arr","sub","cartnew","getStorageSync","add","detail","value","price","toFixed","discard","_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_8_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_4_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_1_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_8_oneOf_1_2_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_HBuilderX_plugins_uniapp_cli_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_4_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_cart_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default"],"mappings":"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","file":"pages/shopcart/cart/cart.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/shopcart/cart/cart.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./cart.vue?vue&type=template&id=581f8a67&\"\nimport script from \"./cart.vue?vue&type=script&lang=js&\"\nexport * from \"./cart.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cart.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\HTML文件\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('581f8a67', component.options)\n    } else {\n      api.reload('581f8a67', component.options)\n    }\n    module.hot.accept(\"./cart.vue?vue&type=template&id=581f8a67&\", function () {\n      api.rerender('581f8a67', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"HBX文件/SupermarketBJH/pages/shopcart/cart/cart.vue\"\nexport default component.exports","export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=template&id=581f8a67&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tsumPrice: '0.00',\n\t\t\theaderPosition: \"fixed\",\n\t\t\theaderTop: null,\n\t\t\tstatusTop: null,\n\t\t\tshowHeader: true,\n\t\t\tselectedList: [],\n\t\t\tisAllselected: false,\n\t\t\tgoodsList:[],\n\t\t\t//控制滑动效果\n\t\t\ttheIndex: null,\n\t\t\toldIndex: null,\n\t\t\tisStop: false,\n\t\t\tnum:0\n\t\t}\n\t},\n\tonPageScroll(e) {\n\t\t//兼容iOS端下拉时顶部漂移\n\t\tthis.headerPosition = e.scrollTop >= 0 ? \"fixed\" : \"absolute\";\n\t\tthis.headerTop = e.scrollTop >= 0 ? null : 0;\n\t\tthis.statusTop = e.scrollTop >= 0 ? null : -this.statusHeight + 'px';\n\t},\n\t//下拉刷新，需要自己在page.json文件中配置开启页面下拉刷新 \"enablePullDownRefresh\": true\n\tonPullDownRefresh() {\n\t\tsetTimeout(function() {\n\t\t\tuni.stopPullDownRefresh();\n\t\t}, 1000);\n\t},\n\t onShow: function() {\n\t\tlet me = this;\n\t\tif(me.num>0){\n\t\t\tuni.getStorage({\n\t\t\t\tkey:\"cart\",\n\t\t\t\tsuccess: (res) => {\n\t\t\t\t\tconsole.log(JSON.stringify(res.data.length))\n\t\t\t\t\tthis.goodsList=res.data \n\t\t\t\t\tconsole.log(this.goodsList)\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tme.num++;\n\t}, \n\tonLoad:function(){\n\t\tuni.getStorage({\n\t\t\tkey:\"cart\",\n\t\t\tsuccess: (res) => {\n\t\t\t\tconsole.log(JSON.stringify(res.data.length))\n\t\t\t\tthis.goodsList=res.data \n\t\t\t\tconsole.log(this.goodsList)\n\t\t\t\tconsole.log(this.goodsList.data)\n\t\t\t}\n\t\t});\n\t\t\n\t\t\n\t\t//查询页面初始数据的方法\n\t\t// uni.request({\n\t\t// \turl: '',\n\t\t// \tmethod: 'GET',\n\t\t// \tdata: {\n\t\t\t\t\n\t\t// \t},\n\t\t// \tsuccess: res => {\n\t\t// \t\tthis.goodsList=res.data.result;\n\t\t// \t},\n\t\t// \tfail: () => {},\n\t\t// \tcomplete: () => {}\n\t\t// });\n\t},\n\tmethods: {\n\t\t//加入商品 参数 goods:商品数据\n\t\tjoinGoods(goods) {\n\t\t\t/*\n\t\t\t * 这里只是展示一种添加逻辑，模板并没有做从其他页面加入商品到购物车的具体动作，\n\t\t\t * 在实际应用上，前端并不会直接插入记录到goodsList这一个动作，一般是更新列表和本地列表缓存。\n\t\t\t * 一般商城购物车的增删改动作是由后端来完成的,\n\t\t\t * 后端记录后返回前端更新前端缓存\n\t\t\t */\n\t\t\tlet len = this.goodsList.length;\n\t\t\tlet isFind = false; //是否找到ID一样的商品\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tlet row = this.goodsList[i];\n\t\t\t\tif (row.id == goods.id) { //找到商品一样的商品\n\t\t\t\t\tthis.goodsList[i].number++; //数量自增\n\t\t\t\t\tisFind = true; //找到一样的商品\n\t\t\t\t\tbreak; //跳出循环\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!isFind) {\n\t\t\t\t//没有找到一样的商品，新增一行到购物车商品列表头部\n\t\t\t\tthis.goodsList[i].unshift(goods);\n\t\t\t}\n\t\t},\n\t\t//控制左滑删除效果-begin\n\t\ttouchStart(index, event) {\n\t\t\t//多点触控不触发\n\t\t\tif (event.touches.length > 1) {\n\t\t\t\tthis.isStop = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.oldIndex = this.theIndex;\n\t\t\tthis.theIndex = null;\n\t\t\t//初始坐标\n\t\t\tthis.initXY = [event.touches[0].pageX, event.touches[0].pageY];\n\t\t},\n\t\ttouchMove(index, event) {\n\t\t\t//多点触控不触发\n\t\t\tif (event.touches.length > 1) {\n\t\t\t\tthis.isStop = true;\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet moveX = event.touches[0].pageX - this.initXY[0];\n\t\t\tlet moveY = event.touches[0].pageY - this.initXY[1];\n\n\t\t\tif (this.isStop || Math.abs(moveX) < 5) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (Math.abs(moveY) > Math.abs(moveX)) {\n\t\t\t\t// 竖向滑动-不触发左滑效果\n\t\t\t\tthis.isStop = true;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (moveX < 0) {\n\t\t\t\tthis.theIndex = index;\n\t\t\t\tthis.isStop = true;\n\t\t\t} else if (moveX > 0) {\n\t\t\t\tif (this.theIndex != null && this.oldIndex == this.theIndex) {\n\t\t\t\t\tthis.oldIndex = index;\n\t\t\t\t\tthis.theIndex = null;\n\t\t\t\t\tthis.isStop = true;\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.oldIndex = null;\n\t\t\t\t\t}, 150)\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\ttouchEnd(index, $event) {\n\t\t\t//结束禁止触发效果\n\t\t\tthis.isStop = false;\n\t\t},\n\t\t//控制左滑删除效果-end\n\n\n\t\t//商品跳转\n\t\ttoGoods(e) {\n\t\t\tuni.showToast({\n\t\t\t\ttitle: '商品 ' + e.goodsName,\n\t\t\t\ticon: \"none\"\n\t\t\t});\n\t\t\tuni.navigateTo({\n\t\t\t\turl: '../../goods/goods'\n\t\t\t});\n\t\t},\n\t\t//跳转确认订单页面\n\t\ttoConfirmation() {\n\t\t\tlet tmpList = [];\n\t\t\tlet len = this.goodsList.length;\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tif (this.goodsList[i].selected) {\n\t\t\t\t\ttmpList.push(this.goodsList[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (tmpList.length < 1) {\n\t\t\t\tuni.showToast({\n\t\t\t\t\ttitle: '请选择商品结算',\n\t\t\t\t\ticon: 'none'\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tuni.setStorage({\n\t\t\t\tkey: 'buylist',\n\t\t\t\tdata: tmpList,\n\t\t\t\tsuccess: () => {\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl: '../order/order'\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//删除商品\n\t\tdeleteGoods(id) {\n\t\t\tlet len = this.goodsList.length;\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tif (id == this.goodsList[i].id) {\n\t\t\t\t\tthis.goodsList.splice(i, 1);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tuni.setStorageSync(\"cart\",this.goodsList);\n\t\t\tthis.selectedList.splice(this.selectedList.indexOf(id), 1);\n\t\t\tthis.sum();\n\t\t\tthis.oldIndex = null;\n\t\t\tthis.theIndex = null;\n\n\t\t},\n\t\t// 删除商品s\n\t\tdeleteList() {\n\t\t\tlet len = this.selectedList.length;\n\t\t\twhile (this.selectedList.length > 0) {\n\t\t\t\tthis.deleteGoods(this.selectedList[0]);\n\t\t\t}\n\t\t\tthis.selectedList = []; \n\t\t\tthis.isAllselected = this.selectedList.length == this.goodsList.length && this.goodsList.length > 0;\n\t\t\tthis.sum();\n\t\t},\n\t\t// 选中商品\n\t\tselected(index) {\n\t\t\tthis.goodsList[index].selected = this.goodsList[index].selected ? false : true;\n\t\t\tlet i = this.selectedList.indexOf(this.goodsList[index].id);\n\t\t\ti > -1 ? this.selectedList.splice(i, 1) : this.selectedList.push(this.goodsList[index].id);\n\t\t\tthis.isAllselected = this.selectedList.length == this.goodsList.length;\n\t\t\tthis.sum();\n\t\t},\n\t\t//全选\n\t\tallSelect() {\n\t\t\tlet len = this.goodsList.length;\n\t\t\tlet arr = [];\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tthis.goodsList[i].selected = this.isAllselected ? false : true;\n\t\t\t\tarr.push(this.goodsList[i].id);\n\t\t\t}\n\t\t\tthis.selectedList = this.isAllselected ? [] : arr;\n\t\t\tthis.isAllselected = this.isAllselected || this.goodsList.length == 0 ? false : true;\n\t\t\tthis.sum();\n\t\t},\n\t\t// 减少数量\n\t\tsub(index) {\n\t\t\tif (this.goodsList[index].number <= 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.goodsList[index].number--;\n\t\t\tthis.sum();\n\t\t\t\n\t\t\tlet cartnew = uni.getStorageSync(\"cart\") || [];\n\t\t\tcartnew[index].number--;\n\t\t\t//把购物车重新添加回缓存中\n\t\t\tuni.setStorageSync(\"cart\", cartnew);\n\t\t},\n\t\t// 增加数量\n\t\tadd(index) {\n\t\t\tthis.goodsList[index].number++;\n\t\t\tthis.sum();\n\n\t\t\tlet cartnew = uni.getStorageSync(\"cart\") || [];\n\t\t\tcartnew[index].number++;\n\t\t\t//把购物车重新添加回缓存中\n\t\t\tuni.setStorageSync(\"cart\", cartnew);\n\t\t},\n\t\t// 合计\n\t\tsum(e, index) {\n\t\t\tthis.sumPrice = 0;\n\t\t\tlet len = this.goodsList.length;\n\t\t\tfor (let i = 0; i < len; i++) {\n\t\t\t\tif (this.goodsList[i].selected) {\n\t\t\t\t\tif (e && i == index) {\n\t\t\t\t\t\tthis.sumPrice = this.sumPrice + (e.detail.value * this.goodsList[i].price);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.sumPrice = this.sumPrice + (this.goodsList[i].number * this.goodsList[i].price);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.sumPrice = this.sumPrice.toFixed(2);\n\t\t},\n\t\tdiscard() {\n\t\t\t//丢弃\n\t\t}\n\n\n\t}\n}\n","import mod from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./cart.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}